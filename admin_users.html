<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin - User Management</title>
  <style>
    body { font-family: Arial; margin: 2rem; background-color: #f9f9f9; }
    h2 { color: #333; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { padding: 8px 12px; border: 1px solid #ccc; text-align: left; }
    th { background-color: #eee; }
    form { margin-top: 2rem; }
    input, select, button { padding: 8px; margin: 4px; }
    a { color: #c00; text-decoration: none; }
  </style>
</head>
<body>
  <h2>🛠 Admin - User Management</h2>

  <table>
    <thead>
      <tr><th>Username</th><th>Role</th><th>Action</th></tr>
    </thead>
    <tbody>
      {% for user in users %}
        <tr>
          <td>{{ user.username }}</td>
          <td>{{ user.role }}</td>
          <td><a href="/admin/users/delete/{{ user.username }}" onclick="return confirm('Delete user {{ user.username }}?')">🗑 Delete</a></td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <h3>Add New User</h3>
  <form method="POST" action="/admin/users/add">
    <input type="text" name="username" placeholder="Username" required>
    <input type="password" name="password" placeholder="Password" required>
    <select name="role">
      <option value="doctor">Doctor</option>
      <option value="admin">Admin</option>
    </select>
    <button type="submit">➕ Add User</button>
  </form>

  <br><a href="/">← Back to Dashboard</a>
</body>
</html>
